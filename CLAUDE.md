# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

This is **UU-Tool** - a German web application for generating "Unterst√ºtzungsunterschrift" (support signatures) needed for political parties to participate in elections. The tool generates PDF documents for voters to sign and submit to their local municipal office to help parties meet legal requirements for ballot access.


## Development Notes

- **No backend server**: Pure html/css/js client-side application with static data files
- **Responsive design**: Works on mobile and desktop
- **German-focused**: All UI text and data structures are German-specific
- **Privacy-conscious**: No cookies. No data sent to external servers. All processing client-side


## File Organization

```
src/           # Python data processing scripts
www/           # Static web application
  assets/      # Configuration and data files
  lib/         # JavaScript libraries
  pdf/         # PDF form templates
  data/        # JSON data for postcode and buero lookups
```

## Tooling
- **uv**: Python dependency management
- **bun**: JavaScript/TypeScript dependency management
- **make**: Build and development commands


## Architecture

### User Workflow

1. User selects election and political party (based on config.json)
2. User enters personal information (name, birthday, address, PLZ)
3. System looks up municipal office address based on PLZ
4. PDF is generated by combining:
   - Party-specific signature form (from config)
   - User-filled personal data
   - Municipal office address for submission

### Frontend (www/)
- **Static web application** served via github pages (https://uu-tool.de)
- **Libraries**: Uses PDF-lib for PDF manipulation, TomSelect for dropdowns

### Backend Data Processing (src/)
- **Python scripts** with `uv` dependency management for data processing
- **build_html.py**: HTML generation script (currently basic stub)
- **generate_addresses.py**: Processes Excel data to extract German municipal addresses
- **plz_scrape.py**: Web scraper for German postal code (PLZ) data with caching
- **disk_cache.py**: Disk-based caching utility for web scraping

### Data Structure
- **plz_data/**: Contains German postal code and municipal data
- **www/assets/config.json**: Election configurations and party-specific settings
- **www/assets/addresses.json**: Municipal address database
- **city_data/**: JSON files with administrative office addresses by PLZ prefix

## Build & Development Commands

### Development Server
```bash
make serve          # Serves www/ directory on http://localhost:8080
```

### Build Process
```bash
make build_www      # Runs src/build_html.py to generate HTML
```
